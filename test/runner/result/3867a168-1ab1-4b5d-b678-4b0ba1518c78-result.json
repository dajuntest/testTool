{"name": "test_buy_random_one", "status": "broken", "statusDetails": {"message": "TypeError: __call__() missing 1 required positional argument: 'body'", "trace": "self = <test_buy_lottery.TestLotteryHall object at 0x055E5830>, setup_teardown = None\n\n    @pytest.mark.flaky(reruns=5, reruns_delay=2)\n    @allure.story('随机购买一注')\n    @allure.severity('严重')\n    @allure.issue(\"http://www.baidu.com\")\n    @allure.testcase(\"http://www.testlink.com\")\n    # @logger.catch()\n    def test_buy_random_one(self, setup_teardown):\n        '''\n        这个测试的是随机选择一种彩票,然后随机购买一注,记录并显示购买的结果\n        with_login_cpc: 用于登录彩票页面\n        with_open_lottery_page: 用于进入购彩大厅页面\n        '''\n    \n        # Arrange 准备工作\n        with allure.step('测试准备工作:'):\n            cpclogin.login()\n            logger.info('开始进行彩票系统登录')\n            lottery_id = cpclotteryhall.random_lottery_id()\n            logger.info('选取的彩票id为%s:' % lottery_id)\n            cpclotteryhall.open_lottery_hall(lottery_id)\n            lottery_name = cpclotteryhall.get_lottery_name()\n    \n        # Act 测试步骤\n        with allure.step('打开彩种页面'):\n            allure.attach(lottery_name, '选择的彩种是:')\n            cpclotteryhall.get_screenshot_as_file('D:\\\\caipiao\\\\runner\\\\png\\\\demo1.png')\n            allure.attach.file('D:\\\\caipiao\\\\runner\\\\png\\\\demo1.png', name='彩种截图', attachment_type=allure.attachment_type.PNG)\n        with allure.step('随机购买一注'):\n            cpclotteryhall.select_random_one()\n            cpclotteryhall.submit_ensure_buy()\n            bet_name = cpclotteryhall.get_bet_type()\n            allure.attach(bet_name, '下注种类是:')\n            cpclotteryhall.get_screenshot_as_file('D:\\\\caipiao\\\\runner\\\\png\\\\demo2.png')\n            allure.attach.file('D:\\\\caipiao\\\\runner\\\\png\\\\demo2.png', name='下注截图', attachment_type=allure.attachment_type.PNG)\n>           allure.attach()\nE           TypeError: __call__() missing 1 required positional argument: 'body'\n\ncase\\caipiao-client\\test_buy_lottery.py:53: TypeError"}, "description": "\n        这个测试的是随机选择一种彩票,然后随机购买一注,记录并显示购买的结果\n        with_login_cpc: 用于登录彩票页面\n        with_open_lottery_page: 用于进入购彩大厅页面\n        ", "steps": [{"name": "测试准备工作:", "status": "passed", "start": 1568443281475, "stop": 1568443293333}, {"name": "打开彩种页面", "status": "passed", "attachments": [{"name": "选择的彩种是:", "source": "b2981867-6e2b-45a8-8ade-de3234fdaf69-attachment.attach"}, {"name": "彩种截图", "source": "331319cf-eaf8-438d-a78a-4b3db2d12403-attachment.png", "type": "image/png"}], "start": 1568443293333, "stop": 1568443293723}, {"name": "随机购买一注", "status": "broken", "statusDetails": {"message": "TypeError: __call__() missing 1 required positional argument: 'body'\n", "trace": "  File \"D:\\caipiao\\case\\caipiao-client\\test_buy_lottery.py\", line 53, in test_buy_random_one\n    allure.attach()\n"}, "attachments": [{"name": "下注种类是:", "source": "33b50246-3555-405b-88ea-eabbcf7a5c2f-attachment.attach"}, {"name": "下注截图", "source": "01381000-a551-4a8f-9aac-d30a2f686aa2-attachment.png", "type": "image/png"}], "start": 1568443293723, "stop": 1568443298334}], "start": 1568443281475, "stop": 1568443298334, "uuid": "f53ad7f7-6c25-462c-ab97-2b9999d0d986", "historyId": "d2545712cc22caebd81f05707405c96f", "testCaseId": "1c77278dffa1b69011417d5e082c6549", "fullName": "case.caipiao-client.test_buy_lottery.TestLotteryHall#test_buy_random_one", "labels": [{"name": "story", "value": "随机购买一注"}, {"name": "feature", "value": "购彩大厅测试"}, {"name": "severity", "value": "严重"}, {"name": "parentSuite", "value": "case.caipiao-client"}, {"name": "suite", "value": "test_buy_lottery"}, {"name": "subSuite", "value": "TestLotteryHall"}, {"name": "host", "value": "DESKTOP-9CB8PNE"}, {"name": "thread", "value": "15960-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "case.caipiao-client.test_buy_lottery"}], "links": [{"type": "test_case", "url": "http://www.testlink.com", "name": "http://www.testlink.com"}, {"type": "issue", "url": "http://www.baidu.com", "name": "http://www.baidu.com"}]}